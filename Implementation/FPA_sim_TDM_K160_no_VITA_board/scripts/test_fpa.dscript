
function sendPulse(filename)
{
	pulse = new Array(1024)
	filecontent = readTextFile(filename)
	for (index = 0;index < filecontent.length && index < 1024;index++)
		pulse[index] = parseInt(filecontent[index],16)
	sendToFPA_setPulse(pulse)
}

sendToFPA_resetOK()
waitMs(1)
sendPulse("fake_pulse_CBE.txt")
waitMs(1)
//sendToFPA_configurePixel(0,65535,32000,0)
sendToFPA_configurePixel(0,65535,65000,0)
sendToFPA_configurePixel(1,65535,65000,0)
sendToFPA_configurePixel(2,65535,65000,0)
sendToFPA_configurePixel(3,65535,65000,0)
sendToFPA_configurePixel(4,65535,65000,0)
sendToFPA_configurePixel(5,65535,65000,0)
sendToFPA_configurePixel(6,65535,65000,0)
sendToFPA_configurePixel(7,65535,65000,0)
sendToFPA_configurePixel(8,65535,65000,0)
sendToFPA_configurePixel(9,65535,65000,0)
sendToFPA_configurePixel(10,65535,65000,0)
sendToFPA_configurePixel(11,65535,65000,0)
sendToFPA_configurePixel(12,65535,65000,0)
sendToFPA_configurePixel(13,65535,65000,0)
sendToFPA_configurePixel(14,65535,65000,0)
sendToFPA_configurePixel(15,65535,65000,0)
sendToFPA_configurePixel(16,65535,65000,0)
sendToFPA_configurePixel(17,65535,65000,0)
sendToFPA_configurePixel(18,65535,65000,0)
sendToFPA_configurePixel(19,65535,65000,0)
sendToFPA_configurePixel(20,65535,65000,0)
sendToFPA_configurePixel(21,65535,65000,0)
sendToFPA_configurePixel(22,65535,65000,0)
sendToFPA_configurePixel(23,65535,65000,0)
sendToFPA_configurePixel(24,65535,65000,0)
sendToFPA_configurePixel(25,65535,65000,0)
sendToFPA_configurePixel(26,65535,65000,0)
sendToFPA_configurePixel(27,65535,65000,0)
sendToFPA_configurePixel(28,65535,65000,0)
sendToFPA_configurePixel(29,65535,65000,0)
sendToFPA_configurePixel(30,65535,65000,0)
sendToFPA_configurePixel(31,65535,65000,0)
sendToFPA_configurePixel(32,65535,65000,0)
sendToFPA_configurePixel(33,65535,65000,0)

waitMs(1)
sendToFPA_setWireIn(0x00,4)
sendToFPA_setWireIn(0x00,0)
getLatestValue("FPA_WireOutValues")

print(FPA_WireOutValues)

